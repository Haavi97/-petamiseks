test_klass_1 = [{'nimi': 'Hugo', 'perekonnanimi': 'Jõesaar', 'hinded': [2, 3, 4, 5, 4, 5, 4, 4, 3, 1]},
                {'nimi': 'Lenna', 'perekonnanimi': 'Nikolaev',
                    'hinded': [3, 3, 5, 4, 1, 5, 4, 4, 4, 3]},
                {'nimi': 'Polina', 'perekonnanimi': 'Kuzmin',
                    'hinded': [3, 4, 5, 3, 4, 3, 3, 4, 4, 2]},
                {'nimi': 'Melissa', 'perekonnanimi': 'Sergejev',
                 'hinded': [4, 5, 5, 3, 5, 4, 5, 5, 3, 5]},
                {'nimi': 'Polina', 'perekonnanimi': 'Rätsep',
                 'hinded': [5, 2, 3, 5, 3, 4, 3, 5, 5, 4]},
                {'nimi': 'Amelia', 'perekonnanimi': 'Tsvetkov',
                 'hinded': [4, 4, 3, 3, 3, 5, 4, 4, 5, 3]},
                {'nimi': 'Karl', 'perekonnanimi': 'Gusev',
                 'hinded': [1, 4, 5, 2, 5, 4, 4, 5, 2, 2]},
                {'nimi': 'Maria', 'perekonnanimi': 'Vassiljev',
                 'hinded': [3, 4, 5, 5, 1, 3, 3, 4, 1, 4]},
                {'nimi': 'Anna', 'perekonnanimi': 'Talts',
                 'hinded': [5, 3, 5, 5, 4, 3, 5, 2, 5, 4]},
                {'nimi': 'Marleen', 'perekonnanimi': 'Poljakov',
                 'hinded': [5, 5, 5, 3, 4, 5, 4, 4, 3, 3]},
                {'nimi': 'Marleen', 'perekonnanimi': 'Kotkas',
                 'hinded': [5, 5, 5, 3, 1, 2, 3, 5, 5, 3]},
                {'nimi': 'Lukas', 'perekonnanimi': 'Mikk',
                 'hinded': [5, 5, 4, 3, 4, 5, 5, 4, 5, 3]},
                {'nimi': 'Jakob', 'perekonnanimi': 'Vahtra 208',
                 'hinded': [4, 3, 4, 3, 5, 2, 4, 3, 5, 5]},
                {'nimi': 'Kaspar', 'perekonnanimi': 'Koort',
                 'hinded': [4, 3, 4, 4, 5, 5, 5, 3, 3, 5]},
                {'nimi': 'Kaspar', 'perekonnanimi': 'Kadak',
                 'hinded': [4, 4, 3, 5, 4, 5, 3, 5, 4, 4]},
                {'nimi': 'Eliise', 'perekonnanimi': 'Kurvits',
                 'hinded': [3, 5, 4, 2, 3, 3, 3, 4, 5, 2]},
                {'nimi': 'Amelia', 'perekonnanimi': 'Ilves',
                 'hinded': [4, 5, 4, 4, 5, 1, 2, 5, 5, 4]},
                {'nimi': 'Saara', 'perekonnanimi': 'Melnikov',
                 'hinded': [5, 3, 5, 4, 4, 5, 4, 3, 5, 3]},
                {'nimi': 'Kevin', 'perekonnanimi': 'Must',
                 'hinded': [5, 5, 4, 5, 5, 5, 5, 5, 5, 5]},
                {'nimi': 'Milana', 'perekonnanimi': 'Tsvetkov', 'hinded': [4, 5, 3, 3, 3, 4, 4, 5, 3, 4]}]
test_klass_2 = [{'nimi': 'Polina', 'perekonnanimi': 'Kalinin', 'hinded': [3, 4, 3, 3, 5, 4, 5, 3, 5, 4]},
                {'nimi': 'Oskar', 'perekonnanimi': 'Teder',
                    'hinded': [5, 5, 5, 5, 5, 3, 5, 1, 5, 4]},
                {'nimi': 'Jakob', 'perekonnanimi': 'Tammik',
                    'hinded': [1, 5, 5, 4, 5, 1, 3, 4, 5, 3]},
                {'nimi': 'Artjom', 'perekonnanimi': 'Vaher',
                 'hinded': [4, 5, 4, 4, 5, 5, 3, 3, 1, 4]},
                {'nimi': 'Alisa', 'perekonnanimi': 'Toots',
                 'hinded': [2, 4, 4, 5, 3, 1, 4, 4, 4, 1]},
                {'nimi': 'Marten', 'perekonnanimi': 'Raudsepp',
                 'hinded': [3, 4, 4, 4, 5, 3, 5, 3, 4, 3]},
                {'nimi': 'Elisabeth', 'perekonnanimi': 'Leppik',
                 'hinded': [4, 5, 3, 4, 5, 4, 5, 5, 4, 5]},
                {'nimi': 'Timur', 'perekonnanimi': 'Lebedev',
                 'hinded': [3, 4, 4, 5, 5, 1, 5, 1, 5, 3]},
                {'nimi': 'Laura', 'perekonnanimi': 'Kurvits',
                 'hinded': [5, 4, 3, 5, 5, 4, 4, 4, 5, 4]},
                {'nimi': 'Artjom', 'perekonnanimi': 'Peterson',
                 'hinded': [4, 3, 5, 1, 4, 5, 5, 5, 3, 1]},
                {'nimi': 'Emma', 'perekonnanimi': 'Sorokin',
                 'hinded': [4, 5, 5, 5, 5, 5, 5, 5, 5, 5]},
                {'nimi': 'Sofia', 'perekonnanimi': 'Jakobson',
                 'hinded': [5, 4, 4, 4, 3, 5, 5, 4, 3, 4]},
                {'nimi': 'Kristofer', 'perekonnanimi': 'Laanemets',
                 'hinded': [4, 4, 4, 5, 2, 5, 5, 3, 4, 5]},
                {'nimi': 'Oskar', 'perekonnanimi': 'Orlov',
                 'hinded': [2, 1, 5, 5, 3, 5, 5, 5, 3, 5]},
                {'nimi': 'Adeele', 'perekonnanimi': 'Andreev',
                 'hinded': [3, 5, 5, 5, 4, 4, 4, 2, 5, 5]},
                {'nimi': 'Annabel', 'perekonnanimi': 'Dmitrijev',
                 'hinded': [3, 4, 5, 4, 4, 3, 5, 5, 5, 4]},
                {'nimi': 'Robert', 'perekonnanimi': 'Adamson',
                 'hinded': [5, 3, 4, 5, 4, 5, 3, 2, 5, 4]},
                {'nimi': 'Nora', 'perekonnanimi': 'Peterson',
                 'hinded': [4, 5, 5, 4, 3, 5, 5, 4, 4, 1]},
                {'nimi': 'Mirtel', 'perekonnanimi': 'Rüütel',
                 'hinded': [5, 4, 5, 3, 5, 5, 5, 4, 5, 4]},
                {'nimi': 'Aleksandr', 'perekonnanimi': 'Orav', 'hinded': [5, 1, 4, 2, 5, 3, 5, 2, 4, 5]}]
test_klass_3 = [{'nimi': 'Karl', 'perekonnanimi': 'Leppik', 'hinded': [4, 3, 4, 5, 5, 3, 5, 3, 5, 3]},
           {'nimi': 'Oskar', 'perekonnanimi': 'Järve', 'hinded': [3, 5, 5, 5, 3, 5, 5, 3, 4, 3]},
           {'nimi': 'Oliver', 'perekonnanimi': 'Õunaas', 'hinded': [4, 5, 3, 5, 4, 5, 1, 1, 1, 3]},
           {'nimi': 'Hugo', 'perekonnanimi': 'Mikk', 'hinded': [5, 3, 3, 5, 3, 4, 5, 4, 5, 3]},
           {'nimi': 'Eliise', 'perekonnanimi': 'Kuusk', 'hinded': [4, 4, 5, 1, 4, 1, 5, 5, 4, 5]},
           {'nimi': 'Gregor', 'perekonnanimi': 'Sorokin', 'hinded': [4, 5, 5, 5, 5, 4, 1, 3, 5, 5]},
           {'nimi': 'Emily', 'perekonnanimi': 'Susi', 'hinded': [5, 4, 3, 4, 5, 4, 5, 5, 4, 1]},
           {'nimi': 'Mia', 'perekonnanimi': 'Kärner', 'hinded': [4, 5, 4, 3, 4, 3, 3, 3, 5, 5]},
           {'nimi': 'Arina', 'perekonnanimi': 'Kull', 'hinded': [3, 5, 5, 2, 3, 5, 4, 1, 3, 4]},
           {'nimi': 'Adeele', 'perekonnanimi': 'Jefimov', 'hinded': [3, 4, 4, 4, 3, 5, 3, 4, 5, 5]},
           {'nimi': 'Hanna', 'perekonnanimi': 'Järve', 'hinded': [5, 2, 5, 4, 5, 5, 5, 5, 4, 4]},
           {'nimi': 'Henri', 'perekonnanimi': 'Miller', 'hinded': [4, 4, 5, 5, 4, 4, 4, 2, 4, 1]},
           {'nimi': 'Oliver', 'perekonnanimi': 'Mets', 'hinded': [1,4, 1, 5, 5, 4, 4, 4, 5, 5]},
           {'nimi': 'Polina', 'perekonnanimi': 'Vares', 'hinded': [2, 4, 4, 1, 5, 1, 4, 2, 5, 3]},
           {'nimi': 'Kevin', 'perekonnanimi': 'Martin', 'hinded': [5, 4, 5, 3, 5, 3, 5, 3, 5, 5]},
           {'nimi': 'Oliver', 'perekonnanimi': 'Kadak', 'hinded': [5, 5, 5, 4, 4, 4, 4, 5, 4, 3]},
           {'nimi': 'Marta', 'perekonnanimi': 'Lill', 'hinded': [5, 5, 3, 1, 5,5, 4, 3, 3, 5]},
           {'nimi': 'David', 'perekonnanimi': 'Vinogradov', 'hinded': [3, 4, 5, 4, 4, 5, 1, 4, 4, 4]},
           {'nimi': 'Romet', 'perekonnanimi': 'Lääne', 'hinded': [5, 5, 4, 5, 5, 4, 5, 5, 4, 5]},
           {'nimi': 'Lenna', 'perekonnanimi': 'Gavrilov', 'hinded': [5, 4, 4, 5, 4, 5, 4, 2, 5, 5]}]


def keskmised(klass):
    tulemus = []
    for e in klass:
        tulemus.append(sum(e['hinded'])/len(e['hinded']))
    return tulemus


def keskmine(keskmised):
    return sum(keskmised)/len(keskmised)


test_klass_1_keskmised_hinded = keskmised(test_klass_1)
test_klass_2_keskmised_hinded = keskmised(test_klass_2)
test_klass_3_keskmised_hinded = keskmised(test_klass_3)

test_klass_1_keskmine_hinne = keskmine(test_klass_1_keskmised_hinded)
test_klass_2_keskmine_hinne = keskmine(test_klass_2_keskmised_hinded)
test_klass_3_keskmine_hinne = keskmine(test_klass_3_keskmised_hinded)


def test_file(fn):
    _temp = import_variable('klass_1_keskmised_hinded', fn)
    import_variable('klass_2_keskmised_hinded', fn)
    import_variable('klass_3_keskmised_hinded', fn)
    import_variable('klass_1_keskmine_hinne', fn)
    import_variable('klass_2_keskmine_hinne', fn)
    import_variable('klass_3_keskmine_hinne', fn)
    test_variable(_temp.klass_1_keskmine_hinne,
                  test_klass_1_keskmine_hinne, 'klass_1_keskmine_hinne')
    test_variable(_temp.klass_2_keskmine_hinne,
                  test_klass_2_keskmine_hinne, 'klass_2_keskmine_hinne')
    test_variable(_temp.klass_3_keskmine_hinne,
                  test_klass_3_keskmine_hinne, 'klass_3_keskmine_hinne')
    test_variable(_temp.klass_1_keskmised_hinded,
                  test_klass_1_keskmised_hinded, 'klass_1_keskmised_hinded')
    test_variable(_temp.klass_2_keskmised_hinded,
                  test_klass_2_keskmised_hinded, 'klass_2_keskmised_hinded')
    test_variable(_temp.klass_3_keskmised_hinded,
                  test_klass_3_keskmised_hinded, 'klass_3_keskmised_hinded')
    return 'Kõik testid edukalt läbitud'


def import_variable(variable, fn):
    try:
        _temp = __import__('tests.scripts.' + fn)
        eval('_temp.scripts.' + fn + '.' + variable)
        return eval('_temp.scripts.' + fn)
    except:
        raise Exception('Nurjus ' + variable + ' importimine')


def test_variable(variable, test_variable, variable_name):
    if variable == test_variable:
        return 'Õnnestus ' + variable_name + 'katsetamine'
    else:
        raise Exception('Nurjus ' + variable_name +
                        ' testimine. See pole õige')
